(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[764],{1502:(e,r,s)=>{Promise.resolve().then(s.bind(s,6406))},1978:(e,r,s)=>{"use strict";s.d(r,{$:()=>o});var t=s(5155);s(2115);var a=s(9708),i=s(2085),l=s(9433);let n=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:r,variant:s,size:i,asChild:o=!1,...d}=e,c=o?a.DX:"button";return(0,t.jsx)(c,{"data-slot":"button",className:(0,l.cn)(n({variant:s,size:i,className:r})),...d})}},6406:(e,r,s)=>{"use strict";s.d(r,{default:()=>m});var t=s(5155),a=s(2115),i=s(9433);function l(e){let{className:r,type:s,...a}=e;return(0,t.jsx)("input",{type:s,"data-slot":"input",className:(0,i.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",r),...a})}var n=s(4298),o=s(7024),d=s.n(o),c=s(3464),u=s(1978),x=s(6874),g=s.n(x);let h=(0,n.io)("http://localhost:5000"),m=function(e){var r;let{repo:s,userId:i}=e,[n,o]=(0,a.useState)(""),[x,m]=(0,a.useState)(null),[p,v]=(0,a.useState)([]),[f,b]=(0,a.useState)(!1),[y,w]=(0,a.useState)(""),j=(0,a.useRef)(null),N=(0,a.useMemo)(()=>n&&""!==n.trim()?[new RegExp(/^(?:https?:\/\/)?(?:www\.)?github\.com\/([^\/]+)\/([^\/]+)(?:\/)?$/).test(n),"Enter valid Github Repository URL"]:[!1,null],[n]),k=async e=>{b(!0),w(""),v([]),m(null);try{let s=await c.A.post("".concat("http://localhost:5000","/project"),{gitURL:e||n,userId:i});if(s.data&&s.data.id){var r;h.emit("subscribe",s.data.id),v(e=>[...e,"Deploying..."]);let t=await c.A.post("".concat("http://localhost:5000","/deploy"),{projectId:s.data.id,gitURL:e||n});w(null==t||null==(r=t.data)?void 0:r.uri)}}catch(e){if(b(!1),c.A.isAxiosError(e)){if(e.response)return void m(e.response.data.error||"An error occurred")}else m(e.message)}},C=async e=>{o(e),k(e)},_=(0,a.useCallback)(e=>{var r;"Done"==e.log&&b(!1),v(r=>[...r,e.log]),null==(r=j.current)||r.scrollIntoView({behavior:"smooth"})},[]);return(0,a.useEffect)(()=>(h.on("log",_),()=>{h.off("log",_)}),[_]),(0,t.jsxs)("main",{className:"flex justify-center items-center flex-col md:flex-row gap-4 p-4 flex-wrap",children:[(0,t.jsxs)("div",{className:"w-full md:w-1/3 sm:mt-10 ",children:[(0,t.jsxs)("span",{className:"flex justify-start items-center gap-2",children:[(0,t.jsx)("svg",{className:"w-8 h-8 text-gray-100",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12 0C5.373 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.385.6.111.793-.261.793-.579   0-.287-.011-1.244-.016-2.254-3.338.724-4.042-1.61-4.042-1.61-.546-1.387-1.333-1.756-1.333-1.756   -1.089-.745.083-.729.083-.729 1.205.085 1.84 1.238 1.84 1.238 1.07 1.834 2.807 1.304   3.492.997.108-.775.418-1.304.762-1.604-2.665-.304-5.467-1.332-5.467-5.931   0-1.31.468-2.381 1.235-3.221-.124-.303-.535-1.524.117-3.176   0 0 1.008-.322 3.3 1.23a11.497 11.497 0 0 1 3.003-.403   c1.019.005 2.047.137 3.004.403 2.289-1.552 3.295-1.23 3.295-1.23   .654 1.653.243 2.874.119 3.176.77.84 1.233 1.911 1.233 3.221   0 4.61-2.807 5.625-5.479 5.921.43.37.823 1.1.823 2.219   0 1.603-.015 2.896-.015 3.293 0 .32.191.694.801.576   C20.565 21.796 24 17.298 24 12c0-6.627-5.373-12-12-12z"})}),(0,t.jsx)(l,{disabled:f,value:n,onChange:e=>o(e.target.value),type:"url",placeholder:"Github URL"})]}),(0,t.jsx)(u.$,{onClick:()=>k(""),disabled:!N[0]||f,className:"w-full mt-5",children:f?"In Progress":"Deploy"}),(0,t.jsxs)("div",{className:"flex items-center gap-4 w-full mt-6",children:[(0,t.jsx)("hr",{className:"flex-grow border-t border-gray-300"}),(0,t.jsx)("span",{className:"text-gray-100 text-lg font-medium",children:"OR"}),(0,t.jsx)("hr",{className:"flex-grow border-t border-gray-300"})]}),y&&(0,t.jsx)("div",{className:"mt-2 bg-slate-900 py-4 px-2 rounded-lg",children:(0,t.jsxs)("p",{children:["Preview URL"," ",(0,t.jsx)(g(),{target:"_blank",className:"text-sky-400 bg-sky-950 px-3 py-2 rounded-lg",href:y,children:y})]})}),x&&(0,t.jsx)("div",{className:"mt-2 bg-slate-900 py-4 px-2 rounded-lg",children:(0,t.jsx)("p",{className:"text-sky-400 bg-sky-950 px-3 py-2 rounded-lg",children:x})}),(0,t.jsxs)("div",{className:"max-w-xl mx-auto  shadow rounded-xl p-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold mb-4",children:"Import Git Repository"}),(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2 border border-gray-200 rounded px-3 py-1",children:[(0,t.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12 0C5.373 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.385.6.111.793-.261.793-.579   0-.287-.011-1.244-.016-2.254-3.338.724-4.042-1.61-4.042-1.61-.546-1.387-1.333-1.756-1.333-1.756   -1.089-.745.083-.729.083-.729 1.205.085 1.84 1.238 1.84 1.238 1.07 1.834 2.807 1.304   3.492.997.108-.775.418-1.304.762-1.604-2.665-.304-5.467-1.332-5.467-5.931   0-1.31.468-2.381 1.235-3.221-.124-.303-.535-1.524.117-3.176   0 0 1.008-.322 3.3 1.23a11.497 11.497 0 0 1 3.003-.403   c1.019.005 2.047.137 3.004.403 2.289-1.552 3.295-1.23 3.295-1.23   .654 1.653.243 2.874.119 3.176.77.84 1.233 1.911 1.233 3.221   0 4.61-2.807 5.625-5.479 5.921.43.37.823 1.1.823 2.219   0 1.603-.015 2.896-.015 3.293 0 .32.191.694.801.576   C20.565 21.796 24 17.298 24 12c0-6.627-5.373-12-12-12z"})}),(0,t.jsx)("span",{className:"text-sm",children:null==(r=s[0])?void 0:r.owner.login}),(0,t.jsx)("svg",{className:"w-4 h-4 ",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]})}),(0,t.jsx)("div",{className:"divide-y border rounded-lg h-72 overflow-y-scroll",children:null==s?void 0:s.map((e,r)=>(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 ",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString("en-US")})]}),(0,t.jsx)(u.$,{size:"sm",onClick:()=>C(e.html_url),disabled:f,children:"Import"})]},r))})]})]}),(0,t.jsx)("div",{className:"w-full md:w-1/2   ",children:p.length>0&&(0,t.jsx)("div",{className:"".concat(d().className," text-sm text-green-500  mt-5 border-green-500 border-2 rounded-lg p-4 md:mx-5 w-full overflow-y-auto h-[60vh]"),children:(0,t.jsx)("pre",{className:"flex flex-col gap-1",children:p.map((e,r)=>(0,t.jsx)("code",{ref:p.length-1===r?j:void 0,children:"> ".concat(e)},r))})})})]})}},9433:(e,r,s)=>{"use strict";s.d(r,{cn:()=>i});var t=s(2596),a=s(9688);function i(){for(var e=arguments.length,r=Array(e),s=0;s<e;s++)r[s]=arguments[s];return(0,a.QP)((0,t.$)(r))}}},e=>{var r=r=>e(e.s=r);e.O(0,[381,909,380,441,684,358],()=>r(1502)),_N_E=e.O()}]);